<!DOCTYPE html>
<html>
<head>
    <title>PQC Flask App</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { max-width: 1400px; margin: auto; }
        .form-group { margin-bottom: 15px; }
        .images { display: flex; justify-content: space-around; flex-wrap: wrap; }
        img { max-width: 100%; height: auto; margin: 10px; cursor: pointer; }
        .result { margin-top: 20px; }
        .tippy-box { font-size: 14px; padding: 10px; background: #333; color: #fff; border-radius: 4px; }
        .tippy-box[data-theme~='light'] { background: #fff; color: #333; }
        nav { background: #333; padding: 10px; }
        nav a { color: white; margin: 0 15px; text-decoration: none; font-size: 16px; }
        nav a:hover { color: #ddd; }
        .modal { display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4); }
        .modal-content { background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 70%; max-height: 80%; overflow-y: auto; }
        .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; }
        .close:hover, .close:focus { color: black; text-decoration: none; cursor: pointer; }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <nav>
        <a href="#" onclick="document.getElementById('readmeModal').style.display='block'">README</a>
        <a href="#" onclick="document.getElementById('quantumModal').style.display='block'">Quantum Concepts</a>
        <a href="#" onclick="document.getElementById('aboutModal').style.display='block'">About</a>
    </nav>

    <div class="modal" id="readmeModal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('readmeModal').style.display='none'">&times;</span>
            {{ readme_content | safe }}
        </div>
    </div>

    <div class="modal" id="quantumModal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('quantumModal').style.display='none'">&times;</span>
            {{ quantum_content | safe }}
        </div>
    </div>

    <div class="modal" id="aboutModal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('aboutModal').style.display='none'">&times;</span>
            {{ about_content | safe }}
        </div>
    </div>

    <div class="container">
        {% block content %}{% endblock %}
    </div>
    <script>
        tippy('#latticeImg', {
            content: 'What it is: A 3D lattice visualization showing basis vectors, clean points (A@s), and noisy points (A@s+e).<br>Why it’s important: Illustrates the lattice structure central to LWE, where security comes from noise hiding the secret.<br>How it works: Basis vectors define the lattice, clean points represent the secret linear combination, and noise shifts points to obscure them.',
            allowHTML: true,
            theme: 'light',
            placement: 'bottom'
        });
        tippy('#handshakeImg', {
            content: 'What it is: A flowchart of the Alice-Bob key exchange using PKI, (u, v), and ciphertext.<br>Why it’s important: Demonstrates the PQC handshake securing communication post-quantum threats.<br>How it works: Bob sends a public key (PKI), Alice encapsulates a shared secret with (u, v), Bob decapsulates, and Alice sends encrypted data.',
            allowHTML: true,
            theme: 'light',
            placement: 'bottom'
        });
        tippy('#cryptographImg', {
            content: 'What it is: A bar chart comparing vectors u (Alice/Bob) and scalars v/v\' (Alice/Bob).<br>Why it’s important: Shows how LWE reconciles shared secrets despite noise.<br>How it works: u is a public vector, v is Alice\'s noisy output, and v\' is Bob\'s attempt to match it, adjusted via reconciliation.',
            allowHTML: true,
            theme: 'light',
            placement: 'bottom'
        });
    </script>
</body>
</html>